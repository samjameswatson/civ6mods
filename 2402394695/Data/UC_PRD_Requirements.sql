-- UC_PRD_Requirements
-- Author: JNR
--------------------------------------------------------------

-- Requirements
--------------------------------------------------------------
INSERT OR IGNORE INTO Requirements
		(RequirementId,										RequirementType)
VALUES	('REQUIRES_INDUSTRIAL_ZONE_HAS_HIGH_ADJACENCY_JNR',	'REQUIREMENT_CITY_HAS_HIGH_ADJACENCY_DISTRICT'),
		('REQUIRES_CITY_HAS_WATER_MILL_JNR',				'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_WIND_MILL_JNR',					'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_MANUFACTURY_JNR',				'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_CHEMICAL_JNR',					'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_POWERPLANT_COAL_JNR',			'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_POWERPLANT_OIL_JNR',			'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_POWERPLANT_NUCLEAR_JNR',		'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_FREIGHT_YARD_JNR',				'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_MODE_MACHINES_JNR',				'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_MODE_FERTILIZERS_JNR',			'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_MODE_ELECTRONICS_JNR',			'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_MODE_SOUVENIRS_JNR',			'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_MODE_PHARMA_JNR',				'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_MODE_PLASTICS_JNR',				'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_PLOT_ADJACENT_TO_AQUEDUCT',				'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES'),
		('REQUIRES_PLOT_ADJACENT_TO_DAM_JNR',				'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES'),
		('REQUIRES_PLOT_ADJACENT_TO_CANAL_JNR',				'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES'),
		('REQUIRES_CITY_HAS_AIRPORT_JNR',					'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_IMPROVED_HORSES',				'REQUIREMENT_CITY_HAS_RESOURCE_TYPE_IMPROVED'),
		('REQUIRES_CITY_HAS_IMPROVED_IRON',					'REQUIREMENT_CITY_HAS_RESOURCE_TYPE_IMPROVED'),
		('REQUIRES_CITY_HAS_IMPROVED_NITER',				'REQUIREMENT_CITY_HAS_RESOURCE_TYPE_IMPROVED'),
		('REQUIRES_CITY_HAS_IMPROVED_COAL',					'REQUIREMENT_CITY_HAS_RESOURCE_TYPE_IMPROVED'),
		('REQUIRES_CITY_HAS_IMPROVED_OIL',					'REQUIREMENT_CITY_HAS_RESOURCE_TYPE_IMPROVED'),
		('REQUIRES_CITY_HAS_IMPROVED_URANIUM',				'REQUIREMENT_CITY_HAS_RESOURCE_TYPE_IMPROVED'),
		('REQUIRES_CITY_HAS_IMPROVED_ALUMINUM',				'REQUIREMENT_CITY_HAS_RESOURCE_TYPE_IMPROVED');

INSERT OR IGNORE INTO Requirements
		(RequirementId,										RequirementType)
SELECT	'REQUIRES_CITY_HAS_POWERPLANT_RENEWABLE_JNR',		'REQUIREMENT_CITY_HAS_BUILDING'
FROM	Buildings
WHERE	BuildingType='BUILDING_JNR_RENEWABLE_DISTRIBUTION';
--------------------------------------------------------------

-- RequirementArguments
--------------------------------------------------------------
INSERT OR IGNORE INTO RequirementArguments
		(RequirementId,										Name,			Value)
VALUES	('REQUIRES_INDUSTRIAL_ZONE_HAS_HIGH_ADJACENCY_JNR',	'DistrictType',	'DISTRICT_INDUSTRIAL_ZONE'),
		('REQUIRES_INDUSTRIAL_ZONE_HAS_HIGH_ADJACENCY_JNR',	'YieldType',	'YIELD_PRODUCTION'),
		('REQUIRES_INDUSTRIAL_ZONE_HAS_HIGH_ADJACENCY_JNR',	'Amount',		5),
		('REQUIRES_CITY_HAS_WATER_MILL_JNR',				'BuildingType',	'BUILDING_WATER_MILL'),
		('REQUIRES_CITY_HAS_WIND_MILL_JNR',					'BuildingType',	'BUILDING_JNR_WIND_MILL'),
		('REQUIRES_CITY_HAS_MANUFACTURY_JNR',				'BuildingType',	'BUILDING_JNR_MANUFACTURY'),
		('REQUIRES_CITY_HAS_CHEMICAL_JNR',					'BuildingType',	'BUILDING_JNR_CHEMICAL'),
		('REQUIRES_CITY_HAS_POWERPLANT_COAL_JNR',			'BuildingType',	'BUILDING_COAL_POWER_PLANT'),
		('REQUIRES_CITY_HAS_POWERPLANT_OIL_JNR',			'BuildingType',	'BUILDING_FOSSIL_FUEL_POWER_PLANT'),
		('REQUIRES_CITY_HAS_POWERPLANT_NUCLEAR_JNR',		'BuildingType',	'BUILDING_POWER_PLANT'),
		('REQUIRES_CITY_HAS_FREIGHT_YARD_JNR',				'BuildingType',	'BUILDING_JNR_FREIGHT_YARD'),
		('REQUIRES_CITY_HAS_MODE_MACHINES_JNR',				'BuildingType',	'BUILDING_JNR_MODE_MACHINES'),
		('REQUIRES_CITY_HAS_MODE_FERTILIZERS_JNR',			'BuildingType',	'BUILDING_JNR_MODE_FERTILIZERS'),
		('REQUIRES_CITY_HAS_MODE_ELECTRONICS_JNR',			'BuildingType',	'BUILDING_JNR_MODE_ELECTRONICS'),
		('REQUIRES_CITY_HAS_MODE_SOUVENIRS_JNR',			'BuildingType',	'BUILDING_JNR_MODE_SOUVENIRS'),
		('REQUIRES_CITY_HAS_MODE_PHARMA_JNR',				'BuildingType',	'BUILDING_JNR_MODE_PHARMA'),
		('REQUIRES_CITY_HAS_MODE_PLASTICS_JNR',				'BuildingType',	'BUILDING_JNR_MODE_PLASTICS'),
		('REQUIRES_PLOT_ADJACENT_TO_AQUEDUCT',				'DistrictType',	'DISTRICT_AQUEDUCT'),
		('REQUIRES_PLOT_ADJACENT_TO_DAM_JNR',				'DistrictType',	'DISTRICT_DAM'),
		('REQUIRES_PLOT_ADJACENT_TO_CANAL_JNR',				'DistrictType',	'DISTRICT_CANAL'),
		('REQUIRES_CITY_HAS_AIRPORT_JNR',					'BuildingType',	'BUILDING_AIRPORT'),
		('REQUIRES_CITY_HAS_IMPROVED_HORSES',				'ResourceType',	'RESOURCE_HORSES'),
		('REQUIRES_CITY_HAS_IMPROVED_IRON',					'ResourceType',	'RESOURCE_IRON'),
		('REQUIRES_CITY_HAS_IMPROVED_NITER',				'ResourceType',	'RESOURCE_NITER'),
		('REQUIRES_CITY_HAS_IMPROVED_COAL',					'ResourceType',	'RESOURCE_COAL'),
		('REQUIRES_CITY_HAS_IMPROVED_OIL',					'ResourceType',	'RESOURCE_OIL'),
		('REQUIRES_CITY_HAS_IMPROVED_URANIUM',				'ResourceType',	'RESOURCE_URANIUM'),
		('REQUIRES_CITY_HAS_IMPROVED_ALUMINUM',				'ResourceType',	'RESOURCE_ALUMINUM');

INSERT OR IGNORE INTO RequirementArguments
		(RequirementId,										Name,			Value)
SELECT	'REQUIRES_CITY_HAS_POWERPLANT_RENEWABLE_JNR',		'BuildingType',	BuildingType
FROM	Buildings
WHERE	BuildingType='BUILDING_JNR_RENEWABLE_DISTRIBUTION';
--------------------------------------------------------------

-- RequirementSets
--------------------------------------------------------------
INSERT OR IGNORE INTO RequirementSets
		(RequirementSetId,							RequirementSetType)
VALUES	('INDUSTRIAL_ZONE_HAS_HIGH_ADJACENCY_JNR',	'REQUIREMENTSET_TEST_ALL'),
		('BUILDING_IS_INDUSTRIAL_TIER1_JNR',		'REQUIREMENTSET_TEST_ANY'),
		('BUILDING_IS_INDUSTRIAL_TIER2_JNR',		'REQUIREMENTSET_TEST_ANY'),
		('BUILDING_IS_INDUSTRIAL_TIER3_JNR',		'REQUIREMENTSET_TEST_ANY'),
		('BUILDING_IS_INDUSTRIAL_TIER4_JNR',		'REQUIREMENTSET_TEST_ANY'),
		('BUILDING_IS_INDUSTRIAL_TIERPRODUCT_JNR',	'REQUIREMENTSET_TEST_ANY'),
		('PLOT_HAS_FRESH_WATER_MINE_JNR',			'REQUIREMENTSET_TEST_ALL'),
		('PLOT_HAS_FRESH_WATER_OR_WATER_WORKS_JNR',	'REQUIREMENTSET_TEST_ANY'),
		('BUILDING_IS_COMMERCIAL_TIER3_JNR',		'REQUIREMENTSET_TEST_ANY'),
		('BUILDING_IS_HARBOR_TIER3_JNR',			'REQUIREMENTSET_TEST_ANY'),
		('BUILDING_IS_AIRPORT_JNR',					'REQUIREMENTSET_TEST_ANY'),
		('CITY_HAS_IMPROVED_HORSES',				'REQUIREMENTSET_TEST_ALL'),
		('CITY_HAS_IMPROVED_IRON',					'REQUIREMENTSET_TEST_ALL'),
		('CITY_HAS_IMPROVED_NITER',					'REQUIREMENTSET_TEST_ALL'),
		('CITY_HAS_IMPROVED_COAL',					'REQUIREMENTSET_TEST_ALL'),
		('CITY_HAS_IMPROVED_OIL',					'REQUIREMENTSET_TEST_ALL'),
		('CITY_HAS_IMPROVED_URANIUM',				'REQUIREMENTSET_TEST_ALL'),
		('CITY_HAS_IMPROVED_ALUMINUM',				'REQUIREMENTSET_TEST_ALL');
--------------------------------------------------------------

-- RequirementSetRequirements
--------------------------------------------------------------
INSERT OR IGNORE INTO RequirementSetRequirements
		(RequirementSetId,							RequirementId)
VALUES	('INDUSTRIAL_ZONE_HAS_HIGH_ADJACENCY_JNR',	'REQUIRES_INDUSTRIAL_ZONE_HAS_HIGH_ADJACENCY_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIER1_JNR',		'REQUIRES_CITY_HAS_WATER_MILL_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIER1_JNR',		'REQUIRES_CITY_HAS_WIND_MILL_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIER2_JNR',		'REQUIRES_CITY_HAS_WORKSHOP'),
		('BUILDING_IS_INDUSTRIAL_TIER2_JNR',		'REQUIRES_CITY_HAS_MANUFACTURY_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIER3_JNR',		'REQUIRES_CITY_HAS_FACTORY'),
		('BUILDING_IS_INDUSTRIAL_TIER3_JNR',		'REQUIRES_CITY_HAS_CHEMICAL_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIER4_JNR',		'REQUIRES_CITY_HAS_POWERPLANT_COAL_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIER4_JNR',		'REQUIRES_CITY_HAS_POWERPLANT_OIL_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIER4_JNR',		'REQUIRES_CITY_HAS_POWERPLANT_NUCLEAR_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIER4_JNR',		'REQUIRES_CITY_HAS_FREIGHT_YARD_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIERPRODUCT_JNR',	'REQUIRES_CITY_HAS_MODE_MACHINES_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIERPRODUCT_JNR',	'REQUIRES_CITY_HAS_MODE_FERTILIZERS_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIERPRODUCT_JNR',	'REQUIRES_CITY_HAS_MODE_ELECTRONICS_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIERPRODUCT_JNR',	'REQUIRES_CITY_HAS_MODE_SOUVENIRS_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIERPRODUCT_JNR',	'REQUIRES_CITY_HAS_MODE_PHARMA_JNR'),
		('BUILDING_IS_INDUSTRIAL_TIERPRODUCT_JNR',	'REQUIRES_CITY_HAS_MODE_PLASTICS_JNR'),
		('PLOT_HAS_FRESH_WATER_MINE_JNR',			'REQUIRES_PLOT_IS_FRESH_WATER'),
		('PLOT_HAS_FRESH_WATER_MINE_JNR',			'REQUIRES_PLOT_HAS_MINE'),
		('PLOT_HAS_FRESH_WATER_OR_WATER_WORKS_JNR',	'REQUIRES_PLOT_IS_FRESH_WATER'),
		('PLOT_HAS_FRESH_WATER_OR_WATER_WORKS_JNR',	'REQUIRES_PLOT_ADJACENT_TO_AQUEDUCT'),
		('PLOT_HAS_FRESH_WATER_OR_WATER_WORKS_JNR',	'REQUIRES_PLOT_ADJACENT_TO_DAM_JNR'),
		('PLOT_HAS_FRESH_WATER_OR_WATER_WORKS_JNR',	'REQUIRES_PLOT_ADJACENT_TO_CANAL_JNR'),
		('BUILDING_IS_COMMERCIAL_TIER3_JNR',		'REQUIRES_CITY_HAS_STOCK_EXCHANGE'),
		('BUILDING_IS_HARBOR_TIER3_JNR',			'REQUIRES_CITY_HAS_SEAPORT'),
		('BUILDING_IS_AIRPORT_JNR',					'REQUIRES_CITY_HAS_AIRPORT_JNR'),
		('CITY_HAS_IMPROVED_HORSES',				'REQUIRES_CITY_HAS_IMPROVED_HORSES'),
		('CITY_HAS_IMPROVED_IRON',					'REQUIRES_CITY_HAS_IMPROVED_IRON'),
		('CITY_HAS_IMPROVED_NITER',					'REQUIRES_CITY_HAS_IMPROVED_NITER'),
		('CITY_HAS_IMPROVED_COAL',					'REQUIRES_CITY_HAS_IMPROVED_COAL'),
		('CITY_HAS_IMPROVED_OIL',					'REQUIRES_CITY_HAS_IMPROVED_OIL'),
		('CITY_HAS_IMPROVED_URANIUM',				'REQUIRES_CITY_HAS_IMPROVED_URANIUM'),
		('CITY_HAS_IMPROVED_ALUMINUM',				'REQUIRES_CITY_HAS_IMPROVED_ALUMINUM');

INSERT OR IGNORE INTO RequirementSetRequirements
		(RequirementSetId,							RequirementId)
SELECT	'BUILDING_IS_INDUSTRIAL_TIER4_JNR',			'REQUIRES_CITY_HAS_POWERPLANT_RENEWABLE_JNR'
FROM	Buildings
WHERE	BuildingType='BUILDING_JNR_RENEWABLE_DISTRIBUTION';
--------------------------------------------------------------

-- Modifiers
--------------------------------------------------------------
UPDATE Modifiers SET SubjectRequirementSetId='BUILDING_IS_INDUSTRIAL_TIER1_JNR'	WHERE ModifierId='MINOR_CIV_STOCKHOLM_GREAT_ENGINEER_POINTS_BONUS';
UPDATE Modifiers SET SubjectRequirementSetId='BUILDING_IS_INDUSTRIAL_TIER1_JNR'	WHERE ModifierId='MINOR_CIV_BOLOGNA_GREAT_ENGINEER_POINTS_BONUS';

UPDATE Modifiers SET SubjectRequirementSetId='BUILDING_IS_INDUSTRIAL_TIER2_JNR'	WHERE ModifierId='TRAIT_GREAT_ENGINEER_FACTORY_MODIFIER';
--------------------------------------------------------------