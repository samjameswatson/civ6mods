-- UC_AQD_Requirements
-- Author: JNR
--------------------------------------------------------------

-- Vocabularies
--------------------------------------------------------------
INSERT OR IGNORE INTO Vocabularies
		(Vocabulary)
VALUES	('IMPROVEMENT_CLASS');
--------------------------------------------------------------

-- Tags
--------------------------------------------------------------
INSERT OR IGNORE INTO Tags
		(Tag,						Vocabulary)
VALUES	('CLASS_JNR_AGRICULTURE',	'IMPROVEMENT_CLASS');
--------------------------------------------------------------

-- TypeTags
--------------------------------------------------------------
INSERT OR IGNORE INTO TypeTags
		(Tag,						Type)
VALUES	('CLASS_JNR_AGRICULTURE',	'IMPROVEMENT_FARM'),
		('CLASS_JNR_AGRICULTURE',	'IMPROVEMENT_PLANTATION'),
		('CLASS_JNR_AGRICULTURE',	'IMPROVEMENT_PASTURE'),
		('CLASS_JNR_AGRICULTURE',	'IMPROVEMENT_CAMP'),
		('CLASS_JNR_AGRICULTURE',	'IMPROVEMENT_FISHERY');

INSERT OR IGNORE INTO TypeTags
		(Tag,						Type)
SELECT	'CLASS_JNR_AGRICULTURE',	ImprovementType
FROM	Improvement_YieldChanges
WHERE	YieldType='YIELD_FOOD' AND ImprovementType IN (SELECT ImprovementType FROM Improvements WHERE TraitType IS NOT NULL);
--------------------------------------------------------------

-- Requirements
--------------------------------------------------------------
INSERT OR IGNORE INTO Requirements
		(RequirementId,									RequirementType)
VALUES	('REQUIRES_CITY_HAS_AQUEDUCT_JNR',				'REQUIREMENT_CITY_HAS_DISTRICT'),
		('REQUIRES_CITY_HAS_ORCHARD_JNR',				'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_HAMMER_WORKS_JNR',			'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_BATHHOUSE_JNR',				'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_SEWER_JNR',					'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_CITY_HAS_WATER_MILL_JNR',			'REQUIREMENT_CITY_HAS_BUILDING'),
		('REQUIRES_PLOT_HAS_FOOD_IMPROVEMENT_JNR',		'REQUIREMENT_PLOT_IMPROVEMENT_TAG_MATCHES'),
		('REQUIRES_PLOT_ADJACENT_TO_OASIS_JNR',			'REQUIREMENT_PLOT_ADJACENT_FEATURE_TYPE_MATCHES'),
		('REQUIRES_PLOT_ADJACENT_TO_VOLCANO_JNR',		'REQUIREMENT_PLOT_ADJACENT_FEATURE_TYPE_MATCHES'),
		('REQUIRES_CITY_HAS_IMPROVED_IRON',				'REQUIREMENT_CITY_HAS_RESOURCE_TYPE_IMPROVED'),
		('REQUIRES_PLOT_ADJACENT_TO_AQUEDUCT',			'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES'),
		('REQUIRES_PLOT_ADJACENT_TO_DAM_JNR',			'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES'),
		('REQUIRES_PLOT_ADJACENT_TO_CANAL_JNR',			'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES'),
		('REQUIRES_PLOT_IS_WATER_WORKS_ADJACENT_JNR',	'REQUIREMENT_REQUIREMENTSET_IS_MET'),
		('REQUIRES_POPULATION_5_JNR',					'REQUIREMENT_CITY_HAS_X_POPULATION'),
		('REQUIRES_POPULATION_10_JNR',					'REQUIREMENT_CITY_HAS_X_POPULATION'),
		('REQUIRES_POPULATION_15_JNR',					'REQUIREMENT_CITY_HAS_X_POPULATION'),
		('REQUIRES_POPULATION_20_JNR',					'REQUIREMENT_CITY_HAS_X_POPULATION'),
		('REQUIRES_POPULATION_25_JNR',					'REQUIREMENT_CITY_HAS_X_POPULATION'),
		('REQUIRES_POPULATION_30_JNR',					'REQUIREMENT_CITY_HAS_X_POPULATION'),
		('REQUIRES_PLAYER_IS_MODERN_ERA_JNR',			'REQUIREMENT_PLAYER_ERA_AT_LEAST'),
		('REQUIRES_PLAYER_IS_FUTURE_ERA_JNR',			'REQUIREMENT_PLAYER_ERA_AT_LEAST');
--------------------------------------------------------------

-- RequirementArguments
--------------------------------------------------------------
INSERT OR IGNORE INTO RequirementArguments
		(RequirementId,									Name,				Value)
VALUES	('REQUIRES_CITY_HAS_AQUEDUCT_JNR',				'DistrictType',		'DISTRICT_AQUEDUCT'),
		('REQUIRES_CITY_HAS_ORCHARD_JNR',				'BuildingType',		'BUILDING_JNR_ORCHARD'),
		('REQUIRES_CITY_HAS_HAMMER_WORKS_JNR',			'BuildingType',		'BUILDING_JNR_HAMMER_WORKS'),
		('REQUIRES_CITY_HAS_BATHHOUSE_JNR',				'BuildingType',		'BUILDING_JNR_BATHHOUSE'),
		('REQUIRES_CITY_HAS_SEWER_JNR',					'BuildingType',		'BUILDING_SEWER'),
		('REQUIRES_CITY_HAS_WATER_MILL_JNR',			'BuildingType',		'BUILDING_WATER_MILL'),
		('REQUIRES_PLOT_HAS_FOOD_IMPROVEMENT_JNR',		'Tag',				'CLASS_JNR_AGRICULTURE'),
		('REQUIRES_PLOT_ADJACENT_TO_OASIS_JNR',			'FeatureType',		'FEATURE_OASIS'),
		('REQUIRES_PLOT_ADJACENT_TO_VOLCANO_JNR',		'FeatureType',		'FEATURE_VOLCANO'),
		('REQUIRES_CITY_HAS_IMPROVED_IRON',				'ResourceType',		'RESOURCE_IRON'),
		('REQUIRES_PLOT_ADJACENT_TO_AQUEDUCT',			'DistrictType',		'DISTRICT_AQUEDUCT'),
		('REQUIRES_PLOT_ADJACENT_TO_DAM_JNR',			'DistrictType',		'DISTRICT_DAM'),
		('REQUIRES_PLOT_ADJACENT_TO_CANAL_JNR',			'DistrictType',		'DISTRICT_CANAL'),
		('REQUIRES_PLOT_IS_WATER_WORKS_ADJACENT_JNR',	'RequirementSetId',	'PLOT_IS_WATER_WORKS_ADJACENT_REQUIREMENTS_JNR'),
		('REQUIRES_POPULATION_5_JNR',					'Amount',			5),
		('REQUIRES_POPULATION_10_JNR',					'Amount',			10),
		('REQUIRES_POPULATION_15_JNR',					'Amount',			15),
		('REQUIRES_POPULATION_20_JNR',					'Amount',			20),
		('REQUIRES_POPULATION_25_JNR',					'Amount',			25),
		('REQUIRES_POPULATION_30_JNR',					'Amount',			30),
		('REQUIRES_PLAYER_IS_MODERN_ERA_JNR',			'EraType',			'ERA_MODERN'),
		('REQUIRES_PLAYER_IS_FUTURE_ERA_JNR',			'EraType',			'ERA_FUTURE');
--------------------------------------------------------------

-- RequirementSets
--------------------------------------------------------------
INSERT OR IGNORE INTO RequirementSets
		(RequirementSetId,										RequirementSetType)
VALUES	('CITY_HAS_AQUEDUCT_JNR',								'REQUIREMENTSET_TEST_ALL'),
		('BUILDING_IS_AQUEDUCT_TIER1_JNR',						'REQUIREMENTSET_TEST_ANY'),
		('BUILDING_IS_AQUEDUCT_TIER2_JNR',						'REQUIREMENTSET_TEST_ANY'),
		('BUILDING_IS_ORCHARD_JNR',								'REQUIREMENTSET_TEST_ALL'),
		('BUILDING_IS_HAMMER_WORKS_JNR',						'REQUIREMENTSET_TEST_ALL'),
		('BUILDING_IS_BATHHOUSE_JNR',							'REQUIREMENTSET_TEST_ALL'),
		('ADJACENT_PLOT_HAS_FOOD_IMPROVEMENT_JNR',				'REQUIREMENTSET_TEST_ALL'),
		('AQUEDUCT_DISCOUNT_ORCHARD_REQUIREMENTS_JNR',			'REQUIREMENTSET_TEST_ANY'),
		('AQUEDUCT_DISCOUNT_HAMMER_WORKS_REQUIREMENTS_JNR',		'REQUIREMENTSET_TEST_ANY'),
		('AQUEDUCT_DISCOUNT_BATHHOUSE_REQUIREMENTS_JNR',		'REQUIREMENTSET_TEST_ANY'),
		('PLOT_IS_WATER_WORKS_ADJACENT_REQUIREMENTS_JNR',		'REQUIREMENTSET_TEST_ANY'),
		('PLOT_IS_FARM_WATER_WORKS_ADJACENT_REQUIREMENTS_JNR',	'REQUIREMENTSET_TEST_ALL'),
		('REQUIRES_POPULATION_5_JNR',							'REQUIREMENTSET_TEST_ALL'),
		('REQUIRES_POPULATION_10_JNR',							'REQUIREMENTSET_TEST_ALL'),
		('REQUIRES_POPULATION_15_JNR',							'REQUIREMENTSET_TEST_ALL'),
		('REQUIRES_POPULATION_20_JNR',							'REQUIREMENTSET_TEST_ALL'),
		('REQUIRES_POPULATION_25_JNR',							'REQUIREMENTSET_TEST_ALL'),
		('REQUIRES_POPULATION_30_JNR',							'REQUIREMENTSET_TEST_ALL'),
		('PLAYER_IS_MODERN_ERA_JNR',							'REQUIREMENTSET_TEST_ALL'),
		('PLAYER_IS_FUTURE_ERA_JNR',							'REQUIREMENTSET_TEST_ALL');
--------------------------------------------------------------

-- RequirementSetRequirements
--------------------------------------------------------------
INSERT OR IGNORE INTO RequirementSetRequirements
		(RequirementSetId,										RequirementId)
VALUES	('CITY_HAS_AQUEDUCT_JNR',								'REQUIRES_CITY_HAS_AQUEDUCT_JNR'),
		('BUILDING_IS_AQUEDUCT_TIER1_JNR',						'REQUIRES_CITY_HAS_ORCHARD_JNR'),
		('BUILDING_IS_AQUEDUCT_TIER1_JNR',						'REQUIRES_CITY_HAS_HAMMER_WORKS_JNR'),
		('BUILDING_IS_AQUEDUCT_TIER1_JNR',						'REQUIRES_CITY_HAS_BATHHOUSE_JNR'),
		('BUILDING_IS_AQUEDUCT_TIER2_JNR',						'REQUIRES_CITY_HAS_SEWER_JNR'),
		('BUILDING_IS_ORCHARD_JNR',								'REQUIRES_CITY_HAS_ORCHARD_JNR'),
		('BUILDING_IS_HAMMER_WORKS_JNR',						'REQUIRES_CITY_HAS_HAMMER_WORKS_JNR'),
		('BUILDING_IS_BATHHOUSE_JNR',							'REQUIRES_CITY_HAS_BATHHOUSE_JNR'),
		('ADJACENT_PLOT_HAS_FOOD_IMPROVEMENT_JNR',				'ADJACENT_TO_OWNER'),
		('ADJACENT_PLOT_HAS_FOOD_IMPROVEMENT_JNR',				'REQUIRES_PLOT_HAS_FOOD_IMPROVEMENT_JNR'),
		('AQUEDUCT_DISCOUNT_ORCHARD_REQUIREMENTS_JNR',			'REQUIRES_PLOT_ADJACENT_TO_LAKE'),
		('AQUEDUCT_DISCOUNT_ORCHARD_REQUIREMENTS_JNR',			'REQUIRES_PLOT_ADJACENT_TO_OASIS_JNR'),
		('AQUEDUCT_DISCOUNT_HAMMER_WORKS_REQUIREMENTS_JNR',		'REQUIRES_CITY_HAS_WATER_MILL_JNR'),
		('AQUEDUCT_DISCOUNT_HAMMER_WORKS_REQUIREMENTS_JNR',		'REQUIRES_CITY_HAS_IMPROVED_IRON'),
		('AQUEDUCT_DISCOUNT_BATHHOUSE_REQUIREMENTS_JNR',		'REQUIRES_PLOT_BREATHTAKING_APPEAL'),
		('AQUEDUCT_DISCOUNT_BATHHOUSE_REQUIREMENTS_JNR',		'PLOT_ADJACENT_TO_GEOTHERMAL_FISSURE_REQUIREMENT'),
		('AQUEDUCT_DISCOUNT_BATHHOUSE_REQUIREMENTS_JNR',		'REQUIRES_PLOT_ADJACENT_TO_VOLCANO_JNR'),
		('PLOT_IS_WATER_WORKS_ADJACENT_REQUIREMENTS_JNR',		'REQUIRES_PLOT_ADJACENT_TO_AQUEDUCT'),
		('PLOT_IS_WATER_WORKS_ADJACENT_REQUIREMENTS_JNR',		'REQUIRES_PLOT_ADJACENT_TO_DAM_JNR'),
		('PLOT_IS_WATER_WORKS_ADJACENT_REQUIREMENTS_JNR',		'REQUIRES_PLOT_ADJACENT_TO_CANAL_JNR'),
		('PLOT_IS_FARM_WATER_WORKS_ADJACENT_REQUIREMENTS_JNR',	'REQUIRES_PLOT_HAS_FARM'),
		('PLOT_IS_FARM_WATER_WORKS_ADJACENT_REQUIREMENTS_JNR',	'REQUIRES_PLOT_IS_WATER_WORKS_ADJACENT_JNR'),
		('REQUIRES_POPULATION_5_JNR',							'REQUIRES_POPULATION_5_JNR'),
		('REQUIRES_POPULATION_10_JNR',							'REQUIRES_POPULATION_10_JNR'),
		('REQUIRES_POPULATION_15_JNR',							'REQUIRES_POPULATION_15_JNR'),
		('REQUIRES_POPULATION_20_JNR',							'REQUIRES_POPULATION_20_JNR'),
		('REQUIRES_POPULATION_25_JNR',							'REQUIRES_POPULATION_25_JNR'),
		('REQUIRES_POPULATION_30_JNR',							'REQUIRES_POPULATION_30_JNR'),
		('PLAYER_IS_MODERN_ERA_JNR',							'REQUIRES_PLAYER_IS_MODERN_ERA_JNR'),
		('PLAYER_IS_FUTURE_ERA_JNR',							'REQUIRES_PLAYER_IS_FUTURE_ERA_JNR');
--------------------------------------------------------------